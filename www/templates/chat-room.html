<ion-view id="userMessagesView" iew-title="Chat" cache-view="false"  ng-controller="ChatRoomCtrl" class="messaging-view">
<ion-header-bar class="bar-calm backgroundGray">
      <h1 class="title">Chat with <span class="cap">{{user.username}}</span>
      <div class="right-icon">
        <button on-touch="getChatList($event)"><i class="fa fa-list" aria-hidden="true"></i></button>
      </div>
      </h1>
    </ion-header-bar>

    <ion-content class="content-stable"
                 on-swipe-left="hideTime = false"
                 on-swipe-right="hideTime = true">

      <div ng-repeat="message in messages"
           ng-class="{other: message.myMessage}"
           class="messages">

        <div class="message" ng-class="{'slide-right': hideTime, '': !hideTime}">
          <span>{{ message.message }}</span>
        </div>

        <div class="time" ng-class="{'slide-right': hideTime, '': !hideTime}">{{message.time}}</div>


      </div>

    </ion-content>

    <ion-footer-bar keyboard-attach class="bar-stable item-input-inset">
      <button class="" ng-click="openCamera()">
        <i class="fa fa-camera" aria-hidden="true"></i>
      </button>
      <label class="item-input-wrapper">
        <input type="text" placeholder="Type your message" on-return="sendMessage(); closeKeyboard()" ng-model="data.message" on-focus="inputUp()" on-blur="inputDown()" />
      </label>
      <button class="button button-clear" ng-click="sendMessage()">
        Send
      </button>
    </ion-footer-bar>
    
</ion-view>